/* --- layout constants (header 6vh + footer 6vh) --- */
:root {
  --header-h: 6vh;
  --footer-h: 6vh;
    --history-max-h: 420px;
}

/* --- page container: inner scroller like Admin --- */
.container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 1.5em;
  user-select: none;

  background-color: #b6ebfc;

  /* component-level scroll; header/footer stay fixed */
  height: calc(100vh - var(--header-h) - var(--footer-h)); /* 88vh */
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;

  padding-bottom: 1.5rem; /* breathing room above footer */
}

/* Prevent flex children (cards, table, etc.) from shrinking */
.container > * {
  flex: 0 0 auto;
}

/* --- headings & buttons (match Admin) --- */
.container h1 {
  font-size: 2em;
  font-weight: bold;
  color: #3e4684;
}

.container .btn {
  padding: 0.8em 1.2em;
  font-size: 1em;
  border-radius: 8px;
  text-decoration: none;
  cursor: pointer;
}

.container .btn-primary {
  background-color: #3e4684;
  color: #fff;
  border: none;
}
.container .btn-primary:hover { background-color: #2c3561; }

.container .btn-secondary {
  background-color: #e6e9f9;
  color: #3e4684;
  border: 1px solid #c7cbe9;
}
.container .btn-secondary:hover { background-color: #dfe3fb; }

.badge {
  background: #e6e9f9;
  padding: .4em .6em;
  border-radius: 6px;
  color: #3e4684;
}

/* --- header bar for section titles/actions --- */
.header-actions {
  width: min(1100px, 92vw);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.actions { display: flex; gap: .5rem; align-items: center; }

/* --- filters row --- */
.filters-row {
  width: min(1100px, 92vw);
  display: grid;
  grid-template-columns: 1.2fr .6fr .6fr .6fr .4fr;
  gap: .5rem;
}

/* optional legacy toggles/presets containers */
.column-filters {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 1rem;
}
.presets { margin-bottom: 1rem; }

/* --- range tabs / toolbar --- */
.stats-toolbar {
  width: min(1100px, 92vw);
  display: flex;
  justify-content: flex-start;
  margin-top: -.5rem;
}
.tabs { display: flex; gap: .5rem; }
.tab {
  border: 1px solid #c7cbe9;
  background: #fff;
  color: #3e4684;
  padding: .35rem .6rem;
  border-radius: 8px;
  cursor: pointer;
}
.tab:hover { background: #eef5ff; }

/* --- insights grid --- */
.stats-grid {
  width: min(1100px, 92vw);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: .75rem;
}

/* cards */
.card {
  background: #fff;
  box-shadow: 0 0 2em #e6e9f9;
  border-radius: 15px;
  overflow: visible; /* prevent content clipping when page grows */
}
.card-header {
  background-color: #3e4684;
  color: #fff;
  padding: .8rem 1rem;
  font-weight: 600;
}

/* ranked lists */
.toplist {
  list-style: decimal inside;
  margin: 0;
  padding: .3rem .5rem .8rem .5rem;
}
.toplist-item {
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 1rem;
  padding: .6rem .5rem;
  border-bottom: 1px solid #f1f1f8;
}
.toplist-item:last-child { border-bottom: none; }

.left .title { font-weight: 700; }
.left .subtitle { color: #6b7280; font-size: .9rem; }
.right { display: flex; align-items: center; gap: .6rem; }
.open { font-size: .8rem; text-transform: uppercase; color: #6b6ff6; }
.metric { color: #6b7280; font-size: .85rem; }

/* --- table area (History) --- */
.table-wrapper,
.pagination-controls {
  width: min(1100px, 92vw);
}

/* horizontal scroll for wide tables; let vertical overflow bubble to container */
.table-wrapper {
  max-height: var(--history-max-h);
  overflow-y: scroll;                 /* <— force visible scrollbar track */
  overflow-x: auto;                   /* keep horizontal scroll when needed */
  scrollbar-gutter: stable both-edges;
  background: #fff;                   /* ensure contrast behind the track */

  /* Firefox scrollbar styling */
  scrollbar-width: thin;              /* auto | thin | none */
  scrollbar-color: #b7bef5 #e6e9f9;   /* thumb | track */
}

/* Chrome/Edge/Safari scrollbar styling */
.table-wrapper::-webkit-scrollbar {
  width: 10px;                        /* thickness of vertical bar */
  height: 10px;                       /* thickness of horizontal bar */
}
.table-wrapper::-webkit-scrollbar-track {
  background: #e6e9f9;
  border-left: 1px solid #d0d5f0;
  border-radius: 10px;
}
.table-wrapper::-webkit-scrollbar-thumb {
  background: #b7bef5;
  border-radius: 10px;
  border: 2px solid #e6e9f9;          /* inset effect */
}
.table-wrapper::-webkit-scrollbar-thumb:hover {
  background: #8f98f0;
}

/* Keep the header visible while the inner container scrolls */
.table thead th {
  position: sticky;
  top: 0;
  z-index: 2;
  background-color: #3e4684;
  color: #fff;
}
.table thead tr { box-shadow: 0 1px 0 #e6e9f9; }

/* sane width so we still get horizontal scrolling when needed */
.table-wrapper table {
  width: 100%;
  min-width: 1200px;              /* adjust if you want earlier/later wrap */
  table-layout: auto;
  border-collapse: collapse;
}

/* keep cells on one line to preserve column width behavior */
.table-wrapper th,
.table-wrapper td {
  white-space: nowrap;
}

/* Admin look for the table */
.table {
  background: #fff;
  box-shadow: 0 0 2em #e6e9f9;
  border-radius: 15px;
  overflow: visible;              /* don’t hide vertical overflow */
}

.table thead {
  background-color: #3e4684;
  color: #fff;
}

.table th,
.table td {
  padding: 1em;
  text-align: left;
}

.table tbody tr:nth-child(even) { background-color: #f0f0f0; }
.table tbody tr:hover { background-color: #eef5ff; }

/* pagination */
.pagination-controls {
  display: flex;
  gap: .6rem;
  align-items: center;
  justify-content: flex-end;
}
